{"version":3,"sources":["components/Card/Card.module.scss","components/Info.jsx","hooks/useCart.js","components/Drawer/index.jsx","components/Header.jsx","components/Card/index.jsx","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js","components/Drawer/Drawer.module.scss"],"names":["module","exports","Info","title","image","description","setCartOpened","React","useContext","AppContext","className","src","alt","onClick","useCart","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderCompleted","setIsOrederCompleted","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","console","error","styles","overlay","overlayVisible","drawer","cart","map","cartItem","style","backgroundImage","imageUrl","cartItemImg","removeBtn","cartTotalBlock","Math","ceil","disabled","Header","props","to","width","height","onClickCart","Card","onFavorite","onPlus","favorited","loading","isAddedItems","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearch","onAddToCart","onAddToFavorites","onChange","placeholder","value","filteredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","createContext","App","setItems","setFavorites","cartOpened","itemsResp","cartResp","favoritesResp","fetchData","findItem","find","Number","onRemoveItem","favObj","log","Provider","some","exact","path","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.833585a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1rhTc\",\"plus\":\"Card_plus__27yYY\",\"favorite\":\"Card_favorite__3PZMt\"};","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nconst Info = ({title, image,  description}) => {\r\n    const {setCartOpened} = React.useContext(AppContext)\r\n\r\n  return (\r\n    <div className=\"cart-empty\">\r\n      <img className=\"box\" src={image} alt=\"Empty\" />\r\n      <h3>{title}</h3>\r\n      <p>{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        Вернуться назад <img src=\"img/left-arrow.svg\" alt=\"Arrow\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react'\r\nimport { AppContext } from '../App'\r\n\r\nexport const useCart = () => {\r\n    const {cartItems, setCartItems } = React.useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n    return { cartItems, setCartItems, totalPrice}\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport styles from \"./Drawer.module.scss\"\r\nimport Info from \"../Info\";\r\nimport { useCart } from \"../../hooks/useCart\";\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nconst Drawer = ({ onClose, onRemove, items = [], opened }) => {\r\n  const {cartItems, setCartItems, totalPrice} = useCart()  \r\n  const [orderId, setOrderId] = React.useState(null)\r\n  const [isOrderCompleted, setIsOrederCompleted] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n  \r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      const {data} = await axios.post(\"https://6146238d5accc70017dae4bf.mockapi.io/orders\", {\r\n        items: cartItems\r\n      });      \r\n      setOrderId(data.id)\r\n      setIsOrederCompleted(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete(\"https://6146238d5accc70017dae4bf.mockapi.io/cart/\" + item.id)\r\n        await delay(1000)\r\n      }\r\n    } catch (error) {\r\n      alert(\"Не удалось оформить заказ\")\r\n      console.error(error);\r\n    } finally {\r\n      setIsLoading(false)\r\n    }    \r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"mb-30 d-flex justify-between\">\r\n          Корзина\r\n          <img\r\n            onClick={onClose}\r\n            className=\"cu-p\"\r\n            src=\"img/btn-remove.svg\"\r\n            alt=\"Remove\"\r\n          />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className={`d-flex flex-column flex ${styles.cart}`}>\r\n            <div className={styles.items}>\r\n              {items.map((item) => (\r\n                <div\r\n                  key={item.id}\r\n                  className={`${styles.cartItem} d-flex align-center mb-20`}\r\n                >\r\n                  <div\r\n                    style={{ backgroundImage: `url(${item.imageUrl})` }}\r\n                    className={styles.cartItemImg}\r\n                  ></div>\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{item.title}</p>\r\n                    <b>{item.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(item.id)}\r\n                    className={styles.removeBtn}\r\n                    src=\"img/btn-remove.svg\"\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className={styles.cartTotalBlock}>\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{Math.ceil(totalPrice / 100 * 5)} руб.</b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderCompleted ? \"Заказ оформлен!\" : \"Корзина пустая\"}\r\n            description={isOrderCompleted ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.\"}\r\n            image={isOrderCompleted ? \"img/complete.jpg\" :\"img/empty.png\"}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Drawer;\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useCart } from '../hooks/useCart'\r\n\r\nconst Header = (props) => {\r\n    const {totalPrice} = useCart()\r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n            <Link to=\"/\">\r\n                <div className=\"d-flex align-center\">\r\n                    <img className=\"mr-15\" width={40} height={40} src=\"img/logo.png\" alt=\"Logo\" />\r\n                    <div>\r\n                        <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                        <p className=\"opacity-5\">Магазин лучших кросовок</p>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            \r\n            <ul className=\"d-flex\">\r\n                <li onClick={props.onClickCart} className=\"mr-30 d-flex align-center cu-p\">\r\n                    <img width={20} className=\"mr-10\" height={20} src=\"img/cart.svg\" alt=\"cart\" />\r\n                    <span>{totalPrice} руб.</span>\r\n                </li>\r\n                <li className=\"mr-10 d-flex align-center cu-p\">\r\n                    <Link className=\"d-flex align-center justify-center\" to=\"favorite\">\r\n                        <img width={20} className=\"mr-10\" height={20} src=\"img/favorites.svg\" alt=\"favorites\" />\r\n                    </Link>                    \r\n                </li>\r\n                <li className=\"d-flex align-center\">\r\n                    <Link className=\"d-flex align-center justify-center\" to=\"orders\">\r\n                        <img width={20} height={20} src=\"img/user.svg\" alt=\"user\" />\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport styles from \"./Card.module.scss\";\r\nimport { AppContext } from \"../../App\";\r\n\r\nconst Card = ({\r\n  id,\r\n  imageUrl,\r\n  title,\r\n  price,\r\n  onFavorite,\r\n  onPlus,\r\n  favorited = false,\r\n  loading = false,\r\n}) => {\r\n  const {isAddedItems} = React.useContext(AppContext)\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, title, price, imageUrl }\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onChangeFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={220}\r\n          height={233}\r\n          viewBox=\"0 0 220 233\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n        >\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"158\" height=\"120\" />\r\n          <rect x=\"0\" y=\"144\" rx=\"10\" ry=\"10\" width=\"158\" height=\"34\" />\r\n          <rect x=\"0\" y=\"188\" rx=\"10\" ry=\"10\" width=\"80\" height=\"32\" />\r\n          <rect x=\"125\" y=\"188\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && <div className={styles.favorite} onClick={onChangeFavorite}>\r\n            <img src={isFavorite ? \"img/heart-liked.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\"/>\r\n          </div>}          \r\n          <img width=\"100%\" height={135} src={imageUrl} alt=\"sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price}</b>\r\n            </div>\r\n            {onPlus && <img\r\n              className={styles.plus}\r\n              onClick={onClickPlus}\r\n              src={isAddedItems(id) ? \"img/btn-checked.svg\" : \"img/btn-plus.svg\"}\r\n              alt=\"Plus\"\r\n            />}\r\n            \r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"../components/Card\";\r\n\r\nconst Home = ({ searchValue, setSearchValue, onChangeSearch, items, onAddToCart, onAddToFavorites, isLoading}) => {\r\n\r\n  const renderItems = () => {\r\n    const filteredItems = items.filter((item) => item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n    return (isLoading ? [...Array(10)] : filteredItems)\r\n      .map((item, index) => (\r\n        <Card\r\n          key={index}\r\n          onPlus={(obj) => onAddToCart(obj)}\r\n          onFavorite={(obj) => onAddToFavorites(obj)}\r\n          loading={isLoading}\r\n          {...item}\r\n        />\r\n      ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"mb-40 d-flex align-center justify-between\">\r\n        <h1>\r\n          {searchValue ? `Поиск по запросу \"${searchValue}\"` : \"Все кроссовки\"}\r\n        </h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue(\"\")}\r\n              className=\"cu-p search-clear\"\r\n              src=\"img/btn-remove.svg\"\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input\r\n            onChange={onChangeSearch}\r\n            placeholder=\"Поиск...\"\r\n            value={searchValue}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport {AppContext} from '../App'\r\n\r\n\r\nconst Favorites = () => {\r\n  const {favorites, onAddToCart, onAddToFavorites} = React.useContext(AppContext)\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"mb-40 d-flex align-center justify-between\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites\r\n          .map((obj) => (\r\n            <Card\r\n              key={obj.id}              \r\n              onPlus={(obj) => onAddToCart(obj)}\r\n              onFavorite={(obj) => onAddToFavorites(obj)}\r\n              favorited={true}\r\n              {...obj}\r\n            />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Card from \"../components/Card\";\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = React.useState([])\r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const {data} = await axios.get(\"https://6146238d5accc70017dae4bf.mockapi.io/orders\")\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        alert(\"Ошибка при запросе заказов\")\r\n        console.error(error);\r\n      }\r\n    })()\r\n  }, [])\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"mb-40 d-flex align-center justify-between\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(10)] : orders)\r\n          .map((item, index) => (\r\n            <Card \r\n              key={index}\r\n              loading={isLoading}\r\n              {...item}\r\n            />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Route } from \"react-router-dom\";\n\nimport Drawer from \"./components/Drawer\";\nimport Header from \"./components/Header\";\nimport Home from \"./pages/Home\";\nimport Favorites from \"./pages/Favorites\";\nimport Orders from \"./pages/Orders\";\n\nexport const AppContext = React.createContext({});\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [cartOpened, setCartOpened] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const itemsResp = await axios.get(\n          \"https://6146238d5accc70017dae4bf.mockapi.io/items\"\n        );\n        const cartResp = await axios.get(\n          \"https://6146238d5accc70017dae4bf.mockapi.io/cart\"\n        );\n        const favoritesResp = await axios.get(\n          \"https://6146238d5accc70017dae4bf.mockapi.io/favorites\"\n        );\n  \n        setIsLoading(false);\n        setCartItems(cartResp.data);\n        setFavorites(favoritesResp.data);\n        setItems(itemsResp.data);\n      } catch (error) {\n        alert(\"Ошибка при запросе данных!\")\n        console.error(error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id))\n      if (findItem) {\n        setCartItems((prev) =>\n          prev.filter((item) => Number(item.parentId) !== Number(obj.id))\n        );\n        await axios.delete(\n        `https://6146238d5accc70017dae4bf.mockapi.io/cart/${findItem.id}`\n        );\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const {data} = await axios.post(\"https://6146238d5accc70017dae4bf.mockapi.io/cart\", obj);\n        setCartItems((prev) => prev.map(item => {\n          if (item.id === data.parentId) {\n            return {\n              ...item,\n              id: data.id\n            }\n          }\n          return item\n        }));\n      }\n    } catch (error) {\n      alert(\"Не удалось добавить в корзину\");\n      console.error(error);\n    }\n  };\n\n  const onRemoveItem = async (id) => {\n    try {\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n      await axios.delete(`https://6146238d5accc70017dae4bf.mockapi.io/cart/${id}`);\n    } catch (error) {\n      alert(\"Не удалось удалить товар!\")\n      console.error(error);\n    }\n  };\n\n  const onChangeSearch = (event) => {\n    let value = event.target.value;\n    setSearchValue(value);\n  };\n\n  const onAddToFavorites = async (obj) => {\n    try {\n      if (favorites.find((favObj) => favObj.id === obj.id)) {\n        setFavorites((prev) =>\n          prev.filter((item) => Number(item.id) !== Number(obj.id))\n        );\n        await axios.delete(\n          `https://6146238d5accc70017dae4bf.mockapi.io/favorites/${obj.id}`\n        );\n      } else {\n        const { data } = await axios.post(\n          \"https://6146238d5accc70017dae4bf.mockapi.io/favorites\",\n          obj\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert(\"Не удалсь добавить в закладки\");\n      console.log(error);\n    }\n  };\n\n  const isAddedItems = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  };  \n\n  return (\n    <AppContext.Provider value={{ items, cartItems, favorites, isAddedItems, setCartOpened, setCartItems, onAddToCart, onAddToFavorites }}>\n      <div className=\"wrapper clear\">\n        <Drawer\n            items={cartItems}\n            onClose={() => setCartOpened(false)}\n            onRemove={onRemoveItem}\n            opened={cartOpened}\n          />\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route exact path=\"/\">\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearch={onChangeSearch}\n            onAddToCart={onAddToCart}\n            onAddToFavorites={onAddToFavorites}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"/favorite\">\n          <Favorites />\n        </Route>\n        <Route path=\"/orders\">\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport './index.scss';\nimport App from './App';\nimport 'macro-css'\n\nReactDOM.render(\n  <React.StrictMode>    \n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1D4ae\",\"drawer\":\"Drawer_drawer__3Ocxn\",\"cart\":\"Drawer_cart__3eIze\",\"items\":\"Drawer_items__2F929\",\"cartItem\":\"Drawer_cartItem__3X9Yp\",\"cartItemImg\":\"Drawer_cartItemImg__3AA4Q\",\"removeBtn\":\"Drawer_removeBtn__3qanq\",\"cartTotalBlock\":\"Drawer_cartTotalBlock__3ycnH\",\"greenButton\":\"Drawer_greenButton__11UPM\",\"overlayVisible\":\"Drawer_overlayVisible__-x_YO\"};"],"sourceRoot":""}